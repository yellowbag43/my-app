<p-toast></p-toast>
<div class="surface-ground mt-1 border-round px-4 py-5 md:px-6 lg:px-8">

<p-panel header="Monthly Salary Reports">
    <div  class="surface-ground mt-1 border-round px-4 py-5 md:px-6 lg:px-8">
        <div class="formgrid grid border-blue-200 justify-content-center">
            <div class="field col-12 md:col-6">
                <p-autoComplete (onSelect)="isdownload=false" [(ngModel)]="selectedCategory" [suggestions]="filteredCategory" (completeMethod)="filterJob($event)"
                                  field="name" [minLength]="1" placeholder="Employee Category"  [dropdown]="true"></p-autoComplete>
                    <small *ngIf="!selectedCategory&& isSubmitted" class="p-error">
                    <span>Field is Mandatory</span>
                </small>
            </div>
            <div class="field col-12 md:col-6">
                <p-calendar (onSelect)="isdownload=false"  [(ngModel)]="selectedMonth" view="month" dateFormat="mm/yy" 
                            placeholder="Select Month" [readonlyInput]="true" inputId="monthpicker"></p-calendar>
                <small *ngIf="!selectedMonth && isSubmitted" class="p-error">
                    <span>Field is Mandatory</span>
                </small>
            </div>
            <div class="field col-12 md:col-6 mt-2">
                <select  [(ngModel)]="pfchoice" id="payementmode" class="w-full text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round outline-none focus:border-primary">
                    <option selected>Without PF</option>
                    <option>With PF</option>
                </select>
                <small *ngIf="!pfchoice && isSubmitted" class="p-error">
                    <span>Field is Mandatory</span>
                </small>
            </div>
            <div class="field col-12 md:col-6 mt-2">
                <select  [(ngModel)]="paymentmode" id="payementmode" class="w-full text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round outline-none focus:border-primary">
                    <option>Cash</option>
                    <option>Bank</option>
                </select>
                <small *ngIf="!paymentmode && isSubmitted" class="p-error">
                    <span>Field is Mandatory</span>
                </small>
            </div>
            <div *ngIf="!isdownload" class="field col-12 md:col-4">
                <button  (click)="queryReport()" pButton pRipple type="button" label="Generate Report" icon="pi pi-book" class="p-button-raised p-button-primary p-button-text w-full "></button>
            </div>
            <div *ngIf="isdownload" class="field col-12 md:col-3">
                <button  (click)="downloadReport()" pButton pRipple type="button" label="Download" icon="pi pi-download" class="p-button-raised p-button-primary p-button-text w-full "></button>
            </div>
            <div *ngIf="isdownload" class="field col-12 md:col-3">
                <button  (click)="isdownload=false" pButton pRipple type="button" label="Re-generate" icon="pi pi-refresh" class="p-button-raised p-button-primary p-button-text w-full "></button>
            </div>
        </div>
    </div>
</p-panel>

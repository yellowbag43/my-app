<p-toast></p-toast>
<div *ngIf="isLogin"  class="card login">
<div class="flex flex-wrap align-items-center justify-content-center card-container blue-container">
    
  <div class="surface-card p-4 shadow-2 border-round w-full lg:w-6">
    <div class="text-center mb-5">
        <img src="assets/terminal.svg" alt="Image" height="50" class="mb-3">
        <div class="text-900 text-3xl font-medium mb-3">Welcome Back</div>
        <span class="text-600 font-medium line-height-3">Don't have an account?</span>
        <a class="font-medium no-underline ml-2 text-blue-500 cursor-pointer">Create today!</a>
    </div>
    <form [formGroup]="form">

    <div>
        <label for="email1" class="block text-900 font-medium mb-2">Login Id</label>
        <input (focus)="clearpError()" formControlName="login" id="email1" type="text" pInputText class="w-full mb-3">
        <small *ngIf="loginForm.login.invalid && isSubmitted" class="p-error">
            <span *ngIf="loginForm.login.errors?.required">Login is Mandatory</span>
        </small>

        <label for="password1" class="block text-900 font-medium mb-2">Password</label>
        <input (focus)="clearpError()" formControlName="password" id="password1" type="password" pInputText class="w-full mb-3">
        <small *ngIf="loginForm.password.invalid && isSubmitted" class="p-error">
            <span *ngIf="loginForm.password.errors?.required">Password cannot be empty</span>
        </small>

        <div class="flex align-items-center justify-content-end mb-6">
            <a (click)="forgotPassword()" class="font-medium no-underline ml-2 text-blue-500 text-right cursor-pointer">Forgot password?</a>
        </div>
        <div class="flex align-items-center justify-content-between mb-6">
            <small *ngIf="isSubmitted && authFails" class="p-error">
                <span>Authentication Error</span>
            </small>
            </div>  
        <button (click)="login()" pButton pRipple label="Sign In" icon="pi pi-user" class="w-full"></button>
    </div>
    </form>
</div>
</div>
</div>
  


<div *ngIf="!isLogin" class="card login">
    <div class="flex flex-wrap align-items-center justify-content-center card-container blue-container">
        
      <div  class="surface-card p-4 shadow-2 border-round w-full lg:w-6">
        <div *ngIf="isOTP" class="formgroup-inline">
                <div class="field md:col-4">
                    <label for="otplogin" class="p-sr-only">Firstname</label>
                    <input [(ngModel)]="otplogin" id="otplogin" type="text" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full" placeholder="Login Id">
                </div>
                <div class="field md:col-4">
                    <button (click)="generateOTP()" type="button" class="text-white bg-primary-500 border-primary-500 px-3 py-2 text-base border-1 border-solid border-round cursor-pointer transition-all transition-duration-200 hover:bg-primary-600 hover:border-primary-600 active:bg-primary-700 active:border-primary-700 w-full">Generate OTP</button>
                </div>
                <p  class="text-base text-color surface-overlay p-2   w-full" >{{otpMessage}}</p>
            </div>

        <form *ngIf="!isOTP" [formGroup]="form2">
            <div class="text-center mb-5">
                <div class="text-900 text-3xl font-medium mb-3">Set new password</div>
            </div>
        
        <div>
            <label for="otp" class="block text-900 font-medium mb-2">OTP</label>
            <input (focus)="clearpError()" formControlName="otp" id="email1" type="text" pInputText class="w-full mb-3">
            <small *ngIf="loginForm2.otp.invalid && isSubmitted" class="p-error">
                <span *ngIf="loginForm2.otp.errors?.required">OTP is Mandatory</span>
            </small>

            <label for="password" class="block text-900 font-medium mb-2">Password</label>
            <input (focus)="clearpError()" formControlName="password" id="password" type="password" pInputText class="w-full mb-3">
            <small *ngIf="loginForm2.password.invalid && isSubmitted" class="p-error">
                <span *ngIf="loginForm2.password.errors?.required">Password is Mandatory</span>
            </small>
    
            <label for="repassword" class="block text-900 font-medium mb-2">Re-type Password</label>
            <input (focus)="clearpError()" formControlName="repassword" id="repassword" type="password" pInputText class="w-full mb-3">
            <small *ngIf="loginForm2.repassword.invalid && isSubmitted" class="p-error">
                <span *ngIf="loginForm2.repassword.errors?.required">Password cannot be empty</span>
            </small>
    
            <div class="flex align-items-center justify-content-end mb-6">
                <a (click)="cancelSetPassword()" class="font-medium no-underline ml-2 text-blue-500 text-right cursor-pointer">Cancel and Login</a>
            </div>
            <div class="flex align-items-center justify-content-between mb-6">
                <small *ngIf="isSubmitted && authFails" class="p-error">
                    <span>Authentication Error</span>
                </small>
                </div>  
            <button (click)="changePassword()" pButton pRipple label="Submit" icon="pi pi-user" class="w-full"></button>
        </div>
        </form>
    </div>
    </div>
    </div>
      
    